<h1 class="title_h1"><%= t(".create_project") %></h1>

<%= form_with model: @project, url: projects_path, local: true do |new| %>
  <div class="mb-3">
    <%= new.label t(".name"), for: "exampleDropdownFormPassword1", class: "form-label" %>
    <%= new.text_field :name, class: "form-control", placeholder: t(".name") %>
    <div class="messages_errors">
      <% @project.errors.full_messages_for(:name).each do |message|%>
        <%= message %>
      <% end %>
    </div>
  </div>

  <div class="mb-3">
    <%= new.label t(".estimate_time"), for: "exampleDropdownFormPassword1", class: "form-label" %>
    <%= new.text_field :estimate_time, class: "form-control", placeholder: t(".estimate_time") %>
    <div class="messages_errors">
      <% @project.errors.full_messages_for(:estimate_time).each do |message|%>
        <%= message %>
      <% end %>
    </div>
  </div>

  <div class="mb-3">
    <%= new.label t(".owner"), for: "exampleDropdownFormPassword1", class: "form-label" %>
    <%= new.text_field :owner, class: "form-control", placeholder: t(".owner") %>
    <div class="messages_errors">
      <% @project.errors.full_messages_for(:owner).each do |message|%>
        <%= message %>
      <% end %>
    </div>
  </div>

  <div class="mb-3">
    <%= new.fields_for :project_members do |f| %>
      <% render "project_member_fields", f: f %>
    <% end %>
    <%= link_to_add_fields "Add Member", new, :project_members %>
  </div>

  <%= new.submit t(".submit"), class: "btn btn-success"  %>
<% end %>

<h3 class="title_h1">List Member</h3>

<table class="table">
  <tr>
    <th>ID</th>
    <th>Name</th>
  </tr>
  <% @members.each do |member|  %>
    <tr>
      <td><%= member.id %></td> 
      <td><%= member.name %></td> 
    </tr>
  <% end %>  
</table>
